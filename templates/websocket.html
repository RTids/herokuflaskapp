<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Websocket Test</title>
	<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/style.css') }}" />

  </head>
  <body>

  <h1>Below is the Web Socket: Socket.IO in action</h1>

  <div id="chat"></div>
<input type="text" id="chat-input"> <button onclick="sendMessage()">Send</button>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/3.0.4/socket.io.js"></script>

<script>
 var socket = io()
 console.log("Socket.IO connection established:", socket.connected);



 function sendMessage () {
     console.log(document.getElementById('chat-input').value)
     socket.emit('message',document.getElementById('chat-input').value)
 }

 socket.on("new_message", (data) => {
 document.getElementById("chat").innerHTML += "<br>" + data
})
</script>

  </body>
</html>